# 回合制游戏开发-完成版

#### 项目结构：

`python.md`		python基础笔记

`服务器.md`		服务端开发的学习笔记

`client/`		回合制游戏的客户端代码

`server/`		回合制游戏的服务端代码

#### 题目描述

本次作业只需修改服务端代码(server目录)，客户端代码(client目录)已实现相关支持。

* 每隔10秒在地图生成一个NPC，取名“蒙面大盗”，同时最多存在5个蒙面大盗。
  蒙面大盗不可无视阻挡，移动速度与玩家一致，按随机路径不断移动。
  当玩家与蒙面大盗十字相遇时，进入战斗。

  蒙面大盗的CMapUnit.m_Type预设值为3。

  蒙面大盗战斗属性：
  	只有1个战士
      攻击1
      防御1
      速度10
      生命值10
  除普攻外附带有技能：
  技能1：“暴雨梨花针”，对敌方全体造成1倍攻击力的伤害，发动技能时战报显示多行“蒙面大盗发动暴雨梨花针，对玩家X的Y号位战士造成Z点伤害”
  技能2：“飞檐走壁”，对普通攻击有50%概率闪避伤害，发动技能时战报显示“蒙面大盗发动飞檐走壁，躲闪了来自玩家X的Y号位战士的攻击”

* 实现人物可存盘属性：耐力
  初始100点，每隔1秒回复1点，上限100点，下限0点。
  人物的战士在战斗中受到伤害时，每点耐力可以抵消1点伤害。

  发动技能时战报 **额外** 显示“玩家X的Y号位战士由于耐力充沛，减少了X点伤害”，不影响其他技能的伤害显示。



#### tips: 

* 服务端需在检测到玩家与蒙面大盗十字相邻后，实现相关逻辑自动进入战斗。

* 在向客户端发送战报协议（5号协议）后，即可自动弹出对应战报文本，相关文本编号已经实现，详见client/report.py。

  TEXT = {
  	1: "第{0}回合:",
  	2: "{0}战士攻击{2}战士,造成伤害{4}",
  	3: "{0}发动暴雨梨花针，对{1}战士造成{2}点伤害",
  	4: "{0}发动飞檐走壁，躲闪了来自{1}战士的攻击",
  	5: "{0}战士由于耐力充沛，减少了{1}点伤害",
  }
